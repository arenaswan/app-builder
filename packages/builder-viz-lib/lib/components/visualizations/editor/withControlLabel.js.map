{"version":3,"sources":["../../../../src/components/visualizations/editor/withControlLabel.tsx"],"names":["ControlLabel","layout","label","labelProps","disabled","children","defaultProps","withControlLabel","WrappedControl","ControlWrapper","className","id","props","fallbackId","Math","random","toString","substr","htmlFor"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;AAYO,SAASA,YAAT,OAAgF;AAAA,MAAxDC,MAAwD,QAAxDA,MAAwD;AAAA,MAAhDC,KAAgD,QAAhDA,KAAgD;AAAA,MAAzCC,UAAyC,QAAzCA,UAAyC;AAAA,MAA7BC,QAA6B,QAA7BA,QAA6B;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;;AACrF,MAAIJ,MAAM,KAAK,UAAX,IAAyBC,KAA7B,EAAoC;AAClC,wBACE;AAAK,MAAA,SAAS,EAAC;AAAf,oBACE,sCAAWC,UAAX,eACE,6BAAC,mBAAD,CAAY,IAAZ;AAAiB,MAAA,QAAQ,EAAEC;AAA3B,OAAsCF,KAAtC,CADF,CADF,EAIGG,QAJH,CADF;AAQD;;AAED,MAAIJ,MAAM,KAAK,YAAX,IAA2BC,KAA/B,EAAsC;AACpC,wBACE,6BAAC,IAAD,CAAM,GAAN;AACE,MAAA,SAAS,EAAC,kFADZ,CAEE;AAFF;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,KAAK,EAAC,QAJR;AAKE,MAAA,MAAM,EAAE;AALV,oBAME,6BAAC,IAAD,CAAM,GAAN;AAAU,MAAA,IAAI,EAAE;AAAhB,oBACE,sCAAWC,UAAX,eACE,6BAAC,mBAAD,CAAY,IAAZ;AAAiB,MAAA,QAAQ,EAAEC;AAA3B,OAAsCF,KAAtC,CADF,CADF,CANF,eAWE,6BAAC,IAAD,CAAM,GAAN;AAAU,MAAA,IAAI,EAAE;AAAhB,OAAqBG,QAArB,CAXF,CADF;AAeD;;AAED,SAAOA,QAAP;AACD;;AAEDL,YAAY,CAACM,YAAb,GAA4B;AAC1BL,EAAAA,MAAM,EAAE,UADkB;AAE1BC,EAAAA,KAAK,EAAE,IAFmB;AAG1BE,EAAAA,QAAQ,EAAE,KAHgB;AAI1BC,EAAAA,QAAQ,EAAE;AAJgB,CAA5B;;AAOe,SAASE,gBAAT,CAA0BC,cAA1B,EAA+C;AAC5D;AACA,WAASC,cAAT,QAA+F;AAAA,QAArEC,SAAqE,SAArEA,SAAqE;AAAA,QAA1DC,EAA0D,SAA1DA,EAA0D;AAAA,QAAtDV,MAAsD,SAAtDA,MAAsD;AAAA,QAA9CC,KAA8C,SAA9CA,KAA8C;AAAA,QAAvCC,UAAuC,SAAvCA,UAAuC;AAAA,QAA3BC,QAA2B,SAA3BA,QAA2B;AAAA,QAAdQ,KAAc;;AAC7F,QAAMC,UAAU,GAAG,oBACjB,6CACkCC,IAAI,CAACC,MAAL,GAC7BC,QAD6B,CACpB,EADoB,EAE7BC,MAF6B,CAEtB,CAFsB,EAEnB,EAFmB,CADlC,CADiB,EAKjB,EALiB,CAAnB;AAOAd,IAAAA,UAAU,qBACLA,UADK;AAERe,MAAAA,OAAO,EAAEP,EAAE,IAAIE;AAFP,MAAV;AAKA,wBACE,6BAAC,YAAD;AAAc,MAAA,MAAM,EAAEZ,MAAtB;AAA8B,MAAA,KAAK,EAAEC,KAArC;AAA4C,MAAA,UAAU,EAAEC,UAAxD;AAAoE,MAAA,QAAQ,EAAEC;AAA9E,oBAEE,6BAAC,cAAD;AACE,MAAA,SAAS,EAAE,yBAAG,4BAAH,EAAiCM,SAAjC,CADb;AAEE,MAAA,EAAE,EAAEP,UAAU,CAACe,OAFjB;AAGE,MAAA,QAAQ,EAAEd;AAHZ,OAIMQ,KAJN,EAFF,CADF;AAWD,GA1B2D,CA4B5D;;;AACA,qCAAqBH,cAArB,EAAqCD,cAArC;AAEA,SAAOC,cAAP;AACD","sourcesContent":["import React, { useMemo } from \"react\";\r\nimport cx from \"classnames\";\r\nimport hoistNonReactStatics from \"hoist-non-react-statics\";\r\nimport * as Grid from \"antd/lib/grid\";\r\nimport Typography from \"antd/lib/typography\";\r\n\r\nimport \"./control-label.less\";\r\n\r\ntype OwnProps = {\r\n  layout?: \"vertical\" | \"horizontal\";\r\n  label?: React.ReactNode;\r\n  labelProps?: any;\r\n  disabled?: boolean;\r\n  children?: React.ReactNode;\r\n};\r\n\r\ntype Props = OwnProps & typeof ControlLabel.defaultProps;\r\n\r\nexport function ControlLabel({ layout, label, labelProps, disabled, children }: Props) {\r\n  if (layout === \"vertical\" && label) {\r\n    return (\r\n      <div className=\"visualization-editor-control-label visualization-editor-control-label-vertical\">\r\n        <label {...labelProps}>\r\n          <Typography.Text disabled={disabled}>{label}</Typography.Text>\r\n        </label>\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (layout === \"horizontal\" && label) {\r\n    return (\r\n      <Grid.Row\r\n        className=\"visualization-editor-control-label visualization-editor-control-label-horizontal\"\r\n        // @ts-expect-error ts-migrate(2322) FIXME: Type '{ children: Element[]; className: string; ty... Remove this comment to see the full error message\r\n        type=\"flex\"\r\n        align=\"middle\"\r\n        gutter={15}>\r\n        <Grid.Col span={12}>\r\n          <label {...labelProps}>\r\n            <Typography.Text disabled={disabled}>{label}</Typography.Text>\r\n          </label>\r\n        </Grid.Col>\r\n        <Grid.Col span={12}>{children}</Grid.Col>\r\n      </Grid.Row>\r\n    );\r\n  }\r\n\r\n  return children;\r\n}\r\n\r\nControlLabel.defaultProps = {\r\n  layout: \"vertical\",\r\n  label: null,\r\n  disabled: false,\r\n  children: null,\r\n};\r\n\r\nexport default function withControlLabel(WrappedControl: any) {\r\n  // eslint-disable-next-line react/prop-types\r\n  function ControlWrapper({ className, id, layout, label, labelProps, disabled, ...props }: any) {\r\n    const fallbackId = useMemo(\r\n      () =>\r\n        `visualization-editor-control-${Math.random()\r\n          .toString(36)\r\n          .substr(2, 10)}`,\r\n      []\r\n    );\r\n    labelProps = {\r\n      ...labelProps,\r\n      htmlFor: id || fallbackId,\r\n    };\r\n\r\n    return (\r\n      <ControlLabel layout={layout} label={label} labelProps={labelProps} disabled={disabled}>\r\n        {/* @ts-expect-error ts-migrate(2322) FIXME: Type 'Element' is not assignable to type 'null | u... Remove this comment to see the full error message */}\r\n        <WrappedControl\r\n          className={cx(\"visualization-editor-input\", className)}\r\n          id={labelProps.htmlFor}\r\n          disabled={disabled}\r\n          {...props}\r\n        />\r\n      </ControlLabel>\r\n    );\r\n  }\r\n\r\n  // Copy static methods from `WrappedComponent`\r\n  hoistNonReactStatics(ControlWrapper, WrappedControl);\r\n\r\n  return ControlWrapper;\r\n}\r\n"],"file":"withControlLabel.js"}