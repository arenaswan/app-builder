{"version":3,"sources":["../../../src/components/sortable/index.tsx"],"names":["DragHandle","className","restProps","SortableContainerWrapper","children","SortableElement","SortableContainer","disabled","containerComponent","containerProps","wrapperProps","containerRef","isDragging","setIsDragging","shouldCancelStart","helperContainer","current","updateBeforeSortStart","args","onSortStart","event","preventDefault","onSortEnd","ref","ContainerComponent","defaultProps"],"mappings":"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","sourcesContent":["import { isFunction, wrap } from \"lodash\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport cx from \"classnames\";\r\n// @ts-expect-error ts-migrate(2724) FIXME: Module '\"../../../node_modules/react-sortable-hoc/... Remove this comment to see the full error message\r\nimport { sortableContainer, sortableElement, sortableHandle } from \"react-sortable-hoc\";\r\n\r\nimport \"./style.less\";\r\n\r\nexport const DragHandle = sortableHandle(({ className, ...restProps }: any) => (\r\n  <div className={cx(\"drag-handle\", className)} {...restProps} />\r\n));\r\n\r\nexport const SortableContainerWrapper = sortableContainer(({ children }: any) => children);\r\n\r\nexport const SortableElement = sortableElement(({ children }: any) => children);\r\n\r\ntype OwnProps = {\r\n  disabled?: boolean;\r\n  containerComponent?: React.ReactElement;\r\n  containerProps?: any;\r\n  children?: React.ReactNode;\r\n};\r\n\r\ntype Props = OwnProps & typeof SortableContainer.defaultProps;\r\n\r\nexport function SortableContainer({ disabled, containerComponent, containerProps, children, ...wrapperProps }: Props) {\r\n  const containerRef = useRef();\r\n  const [isDragging, setIsDragging] = useState(false);\r\n\r\n  wrapperProps = { ...wrapperProps };\r\n  containerProps = { ...containerProps };\r\n\r\n  if (disabled) {\r\n    // Disabled state:\r\n    // - forbid drag'n'drop (and therefore no need to hook events\r\n    // - don't override anything on container element\r\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'shouldCancelStart' does not exist on typ... Remove this comment to see the full error message\r\n    wrapperProps.shouldCancelStart = () => true;\r\n  } else {\r\n    // Enabled state:\r\n\r\n    // - use container element as a default helper element\r\n    // @ts-expect-error\r\n    wrapperProps.helperContainer = wrap(wrapperProps.helperContainer, helperContainer =>\r\n      isFunction(helperContainer) ? helperContainer(containerRef.current) : containerRef.current\r\n    );\r\n\r\n    // - hook drag start/end events\r\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'updateBeforeSortStart' does not exist on... Remove this comment to see the full error message\r\n    wrapperProps.updateBeforeSortStart = wrap(wrapperProps.updateBeforeSortStart, (updateBeforeSortStart, ...args) => {\r\n      setIsDragging(true);\r\n      if (isFunction(updateBeforeSortStart)) {\r\n        updateBeforeSortStart(...args);\r\n      }\r\n    });\r\n    // @ts-expect-error\r\n    wrapperProps.onSortStart = wrap(wrapperProps.onSortStart, (onSortStart, ...args) => {\r\n      if (isFunction(onSortStart)) {\r\n        onSortStart(...args);\r\n      } else {\r\n        const event = args[1] as DragEvent;\r\n        event.preventDefault();\r\n      }\r\n    });\r\n\r\n    // @ts-expect-error ts-migrate(2339) FIXME: Property 'onSortEnd' does not exist on type '{}'.\r\n    wrapperProps.onSortEnd = wrap(wrapperProps.onSortEnd, (onSortEnd, ...args) => {\r\n      setIsDragging(false);\r\n      if (isFunction(onSortEnd)) {\r\n        onSortEnd(...args);\r\n      }\r\n    });\r\n\r\n    // - update container element: add classes and take a ref\r\n    containerProps.className = cx(\r\n      \"sortable-container\",\r\n      { \"sortable-container-dragging\": isDragging },\r\n      containerProps.className\r\n    );\r\n    containerProps.ref = containerRef;\r\n  }\r\n\r\n  const ContainerComponent = containerComponent;\r\n  return (\r\n    <SortableContainerWrapper {...wrapperProps}>\r\n      {/* @ts-expect-error ts-migrate(2604) FIXME: JSX element type 'ContainerComponent' does not hav... Remove this comment to see the full error message */}\r\n      <ContainerComponent {...containerProps}>{children}</ContainerComponent>\r\n    </SortableContainerWrapper>\r\n  );\r\n}\r\n\r\nSortableContainer.defaultProps = {\r\n  disabled: false,\r\n  containerComponent: \"div\",\r\n  containerProps: {},\r\n  children: null,\r\n};\r\n"],"file":"index.js"}