{"version":3,"sources":["../../../src/visualizations/sankey/Renderer.tsx"],"names":["Renderer","data","container","setContainer","render","unwatch","propTypes","RendererPropTypes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAGA;;AACA;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,QAAT,OAAsD;AAAA,MAAlCC,IAAkC,QAAlCA,IAAkC;;AAAA,kBACjC,qBAAgC,IAAhC,CADiC;AAAA;AAAA,MAC5DC,SAD4D;AAAA,MACjDC,YADiD;;AAGnE,MAAMC,MAAM,GAAG,oBAAQ,MAAM,yBAAWH,IAAX,CAAd,EAA0D,CAACA,IAAD,CAA1D,CAAf;AAEA,wBAAU,MAAM;AACd,QAAIC,SAAJ,EAAe;AACbE,MAAAA,MAAM,CAACF,SAAD,CAAN;AACA,UAAMG,OAAO,GAAG,6BAAeH,SAAf,EAA0B,MAAM;AAC9CE,QAAAA,MAAM,CAACF,SAAD,CAAN;AACD,OAFe,CAAhB;AAGA,aAAOG,OAAP;AACD;AACF,GARD,EAQG,CAACH,SAAD,EAAYE,MAAZ,CARH;AAUA,sBAAO;AAAK,IAAA,SAAS,EAAC,gCAAf;AAAgD,IAAA,GAAG,EAAED;AAArD,IAAP;AACD;;AAEDH,QAAQ,CAACM,SAAT,GAAqBC,4BAArB","sourcesContent":["import React, { useState, useEffect, useMemo } from \"react\";\r\nimport resizeObserver from \"@/services/resizeObserver\";\r\nimport { RendererPropTypes } from \"@/visualizations/prop-types\";\r\n\r\nimport { SankeyDataType } from \"./index\";\r\nimport initSankey, { ExtendedSankeyDataType } from \"./initSankey\";\r\nimport \"./renderer.less\";\r\n\r\nexport default function Renderer({ data }: { data: SankeyDataType }) {\r\n  const [container, setContainer] = useState<null | HTMLDivElement>(null);\r\n\r\n  const render = useMemo(() => initSankey(data as ExtendedSankeyDataType), [data]);\r\n\r\n  useEffect(() => {\r\n    if (container) {\r\n      render(container);\r\n      const unwatch = resizeObserver(container, () => {\r\n        render(container);\r\n      });\r\n      return unwatch;\r\n    }\r\n  }, [container, render]);\r\n\r\n  return <div className=\"sankey-visualization-container\" ref={setContainer} />;\r\n}\r\n\r\nRenderer.propTypes = RendererPropTypes;\r\n"],"file":"Renderer.js"}