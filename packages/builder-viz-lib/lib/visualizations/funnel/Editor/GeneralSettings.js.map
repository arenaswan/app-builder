{"version":3,"sources":["../../../../src/visualizations/funnel/Editor/GeneralSettings.tsx"],"names":["GeneralSettings","options","data","onOptionsChange","columnNames","columns","c","name","onOptionsChangeDebounced","stepCol","colName","undefined","col","displayAs","event","target","value","valueCol","autoSort","checked","sortKeyCol","reverse","order","propTypes","EditorPropTypes"],"mappings":"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","sourcesContent":["import { map } from \"lodash\";\r\nimport React, { useMemo } from \"react\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport { Section, Select, Input, Checkbox } from \"@/components/visualizations/editor\";\r\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\r\n\r\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\r\n  const columnNames = useMemo(() => map(data.columns, c => c.name), [data]);\r\n\r\n  const [onOptionsChangeDebounced] = useDebouncedCallback(onOptionsChange, 200);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Select\r\n          layout=\"horizontal\"\r\n          label=\"Step Column\"\r\n          data-test=\"Funnel.StepColumn\"\r\n          placeholder=\"Choose column...\"\r\n          defaultValue={options.stepCol.colName || undefined}\r\n          onChange={(colName: any) => onOptionsChange({ stepCol: { colName: colName || null } })}>\r\n          {map(columnNames, col => (\r\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\r\n            <Select.Option key={col} data-test={`Funnel.StepColumn.${col}`}>\r\n              {col}\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Section>\r\n\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Input\r\n          layout=\"horizontal\"\r\n          label=\"Step Column Title\"\r\n          data-test=\"Funnel.StepColumnTitle\"\r\n          defaultValue={options.stepCol.displayAs}\r\n          onChange={(event: any) => onOptionsChangeDebounced({ stepCol: { displayAs: event.target.value } })}\r\n        />\r\n      </Section>\r\n\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Select\r\n          layout=\"horizontal\"\r\n          label=\"Value Column\"\r\n          data-test=\"Funnel.ValueColumn\"\r\n          placeholder=\"Choose column...\"\r\n          defaultValue={options.valueCol.colName || undefined}\r\n          onChange={(colName: any) => onOptionsChange({ valueCol: { colName: colName || null } })}>\r\n          {map(columnNames, col => (\r\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\r\n            <Select.Option key={col} data-test={`Funnel.ValueColumn.${col}`}>\r\n              {col}\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Section>\r\n\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Input\r\n          layout=\"horizontal\"\r\n          label=\"Value Column Title\"\r\n          data-test=\"Funnel.ValueColumnTitle\"\r\n          defaultValue={options.valueCol.displayAs}\r\n          onChange={(event: any) => onOptionsChangeDebounced({ valueCol: { displayAs: event.target.value } })}\r\n        />\r\n      </Section>\r\n\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Checkbox\r\n          data-test=\"Funnel.CustomSort\"\r\n          checked={!options.autoSort}\r\n          onChange={event => onOptionsChange({ autoSort: !event.target.checked })}>\r\n          Custom Sorting\r\n        </Checkbox>\r\n      </Section>\r\n\r\n      {!options.autoSort && (\r\n        <React.Fragment>\r\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n          <Section>\r\n            <Select\r\n              layout=\"horizontal\"\r\n              label=\"Sort Column\"\r\n              data-test=\"Funnel.SortColumn\"\r\n              allowClear\r\n              placeholder=\"Choose column...\"\r\n              defaultValue={options.sortKeyCol.colName || undefined}\r\n              onChange={(colName: any) => onOptionsChange({ sortKeyCol: { colName: colName || null } })}>\r\n              {map(columnNames, col => (\r\n                // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\r\n                <Select.Option key={col} data-test={`Funnel.SortColumn.${col}`}>\r\n                  {col}\r\n                  {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n                </Select.Option>\r\n              ))}\r\n            </Select>\r\n          </Section>\r\n\r\n          {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n          <Section>\r\n            <Select\r\n              layout=\"horizontal\"\r\n              label=\"Sort Order\"\r\n              data-test=\"Funnel.SortDirection\"\r\n              disabled={!options.sortKeyCol.colName}\r\n              defaultValue={options.sortKeyCol.reverse ? \"desc\" : \"asc\"}\r\n              onChange={(order: any) => onOptionsChange({ sortKeyCol: { reverse: order === \"desc\" } })}>\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n              <Select.Option value=\"asc\" data-test=\"Funnel.SortDirection.Ascending\">\r\n                ascending\r\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n              </Select.Option>\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n              <Select.Option value=\"desc\" data-test=\"Funnel.SortDirection.Descending\">\r\n                descending\r\n                {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n              </Select.Option>\r\n            </Select>\r\n          </Section>\r\n        </React.Fragment>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nGeneralSettings.propTypes = EditorPropTypes;\r\n"],"file":"GeneralSettings.js"}