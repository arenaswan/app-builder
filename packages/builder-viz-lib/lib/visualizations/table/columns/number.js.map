{"version":3,"sources":["../../../../src/visualizations/table/columns/number.tsx"],"names":["Editor","column","onChange","onChangeDebounced","numberFormat","event","target","value","initNumberColumn","format","prepareData","row","text","name","NumberColumn","friendlyName"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AAUA,SAASA,MAAT,OAA6C;AAAA,MAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;;AAAA,8BACf,uCAAqBA,QAArB,EAA+B,GAA/B,CADe;AAAA;AAAA,MACpCC,iBADoC;;AAG3C;AAAA;AACE;AACA,iCAAC,eAAD,qBACE,6BAAC,aAAD;AACE,MAAA,KAAK,eACH,6BAAC,cAAD,CAAO,QAAP,sCAEE,6BAAC,mBAAD,CAAa,iBAAb,OAFF,CAFJ;AAOE,mBAAU,kCAPZ;AAQE,MAAA,YAAY,EAAEF,MAAM,CAACG,YARvB;AASE,MAAA,QAAQ,EAAGC,KAAD,IAAgBF,iBAAiB,CAAC;AAAEC,QAAAA,YAAY,EAAEC,KAAK,CAACC,MAAN,CAAaC;AAA7B,OAAD;AAT7C,MADF;AAFF;AAgBD;;AAEc,SAASC,gBAAT,CAA0BP,MAA1B,EAAuC;AACpD,MAAMQ,MAAM,GAAG,wCAAsBR,MAAM,CAACG,YAA7B,CAAf;;AAEA,WAASM,WAAT,CAAqBC,GAArB,EAA+B;AAC7B,WAAO;AACLC,MAAAA,IAAI,EAAEH,MAAM,CAACE,GAAG,CAACV,MAAM,CAACY,IAAR,CAAJ;AADP,KAAP;AAGD;;AAED,WAASC,YAAT,QAAoC;AAAA,QAAZH,GAAY,SAAZA,GAAY;;AAClC;AADkC,uBAEjBD,WAAW,CAACC,GAAD,CAFM;AAAA,QAE1BC,IAF0B,gBAE1BA,IAF0B;;AAGlC,WAAOA,IAAP;AACD;;AAEDE,EAAAA,YAAY,CAACJ,WAAb,GAA2BA,WAA3B;AAEA,SAAOI,YAAP;AACD;;AAEDN,gBAAgB,CAACO,YAAjB,GAAgC,QAAhC;AACAP,gBAAgB,CAACR,MAAjB,GAA0BA,MAA1B","sourcesContent":["import React from \"react\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport { Section, Input, ContextHelp } from \"@/components/visualizations/editor\";\r\nimport { createNumberFormatter } from \"@/lib/value-format\";\r\n\r\ntype Props = {\r\n  column: {\r\n    name: string;\r\n    numberFormat?: string;\r\n  };\r\n  onChange: (...args: any[]) => any;\r\n};\r\n\r\nfunction Editor({ column, onChange }: Props) {\r\n  const [onChangeDebounced] = useDebouncedCallback(onChange, 200);\r\n\r\n  return (\r\n    // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\r\n    <Section>\r\n      <Input\r\n        label={\r\n          <React.Fragment>\r\n            Number format\r\n            <ContextHelp.NumberFormatSpecs />\r\n          </React.Fragment>\r\n        }\r\n        data-test=\"Table.ColumnEditor.Number.Format\"\r\n        defaultValue={column.numberFormat}\r\n        onChange={(event: any) => onChangeDebounced({ numberFormat: event.target.value })}\r\n      />\r\n    </Section>\r\n  );\r\n}\r\n\r\nexport default function initNumberColumn(column: any) {\r\n  const format = createNumberFormatter(column.numberFormat);\r\n\r\n  function prepareData(row: any) {\r\n    return {\r\n      text: format(row[column.name]),\r\n    };\r\n  }\r\n\r\n  function NumberColumn({ row }: any) {\r\n    // eslint-disable-line react/prop-types\r\n    const { text } = prepareData(row);\r\n    return text;\r\n  }\r\n\r\n  NumberColumn.prepareData = prepareData;\r\n\r\n  return NumberColumn;\r\n}\r\n\r\ninitNumberColumn.friendlyName = \"Number\";\r\ninitNumberColumn.Editor = Editor;\r\n"],"file":"number.js"}