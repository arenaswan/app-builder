{"version":3,"sources":["../../../../src/visualizations/table/columns/datetime.tsx"],"names":["Editor","column","onChange","onChangeDebounced","dateTimeFormat","event","target","value","initDateTimeColumn","format","prepareData","row","text","name","DateTimeColumn","friendlyName"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;AAUA,SAASA,MAAT,OAA6C;AAAA,MAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,MAAnBC,QAAmB,QAAnBA,QAAmB;;AAAA,8BACf,uCAAqBA,QAArB,EAA+B,GAA/B,CADe;AAAA;AAAA,MACpCC,iBADoC;;AAG3C;AAAA;AACE;AACA,iCAAC,eAAD,qBACE,6BAAC,aAAD;AACE,MAAA,KAAK,eACH,6BAAC,cAAD,CAAO,QAAP,yCAEE,6BAAC,mBAAD,CAAa,mBAAb,OAFF,CAFJ;AAOE,mBAAU,oCAPZ;AAQE,MAAA,YAAY,EAAEF,MAAM,CAACG,cARvB;AASE,MAAA,QAAQ,EAAGC,KAAD,IAAgBF,iBAAiB,CAAC;AAAEC,QAAAA,cAAc,EAAEC,KAAK,CAACC,MAAN,CAAaC;AAA/B,OAAD;AAT7C,MADF;AAFF;AAgBD;;AAEc,SAASC,kBAAT,CAA4BP,MAA5B,EAAyC;AACtD,MAAMQ,MAAM,GAAG,0CAAwBR,MAAM,CAACG,cAA/B,CAAf;;AAEA,WAASM,WAAT,CAAqBC,GAArB,EAA+B;AAC7B,WAAO;AACLC,MAAAA,IAAI,EAAEH,MAAM,CAACE,GAAG,CAACV,MAAM,CAACY,IAAR,CAAJ;AADP,KAAP;AAGD;;AAED,WAASC,cAAT,QAAsC;AAAA,QAAZH,GAAY,SAAZA,GAAY;;AACpC;AADoC,uBAEnBD,WAAW,CAACC,GAAD,CAFQ;AAAA,QAE5BC,IAF4B,gBAE5BA,IAF4B;;AAGpC,WAAOA,IAAP;AACD;;AAEDE,EAAAA,cAAc,CAACJ,WAAf,GAA6BA,WAA7B;AAEA,SAAOI,cAAP;AACD;;AAEDN,kBAAkB,CAACO,YAAnB,GAAkC,WAAlC;AACAP,kBAAkB,CAACR,MAAnB,GAA4BA,MAA5B","sourcesContent":["import React from \"react\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\nimport { Section, Input, ContextHelp } from \"@/components/visualizations/editor\";\r\nimport { createDateTimeFormatter } from \"@/lib/value-format\";\r\n\r\ntype Props = {\r\n  column: {\r\n    name: string;\r\n    dateTimeFormat?: string;\r\n  };\r\n  onChange: (...args: any[]) => any;\r\n};\r\n\r\nfunction Editor({ column, onChange }: Props) {\r\n  const [onChangeDebounced] = useDebouncedCallback(onChange, 200);\r\n\r\n  return (\r\n    // @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message\r\n    <Section>\r\n      <Input\r\n        label={\r\n          <React.Fragment>\r\n            Date/Time format\r\n            <ContextHelp.DateTimeFormatSpecs />\r\n          </React.Fragment>\r\n        }\r\n        data-test=\"Table.ColumnEditor.DateTime.Format\"\r\n        defaultValue={column.dateTimeFormat}\r\n        onChange={(event: any) => onChangeDebounced({ dateTimeFormat: event.target.value })}\r\n      />\r\n    </Section>\r\n  );\r\n}\r\n\r\nexport default function initDateTimeColumn(column: any) {\r\n  const format = createDateTimeFormatter(column.dateTimeFormat);\r\n\r\n  function prepareData(row: any) {\r\n    return {\r\n      text: format(row[column.name]),\r\n    };\r\n  }\r\n\r\n  function DateTimeColumn({ row }: any) {\r\n    // eslint-disable-line react/prop-types\r\n    const { text } = prepareData(row);\r\n    return text;\r\n  }\r\n\r\n  DateTimeColumn.prepareData = prepareData;\r\n\r\n  return DateTimeColumn;\r\n}\r\n\r\ninitDateTimeColumn.friendlyName = \"Date/Time\";\r\ninitDateTimeColumn.Editor = Editor;\r\n"],"file":"datetime.js"}