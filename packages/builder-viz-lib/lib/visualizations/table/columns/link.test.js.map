{"version":3,"sources":["../../../../src/visualizations/table/columns/link.test.tsx"],"names":["findByTestID","wrapper","testId","find","mount","column","done","enzyme","changedColumn","expect","toMatchSnapshot","describe","test","el","name","linkUrlTemplate","last","simulate","target","value","linkTextTemplate","linkTitleTemplate","linkOpenInNewTab","checked"],"mappings":";;AAAA;;AACA;;AAEA;;;;AAEA,SAASA,YAAT,CAAsBC,OAAtB,EAAoCC,MAApC,EAAiD;AAC/C,SAAOD,OAAO,CAACE,IAAR,wBAA4BD,MAA5B,SAAP;AACD;;AAED,SAASE,KAAT,CAAeC,MAAf,EAA4BC,IAA5B,EAAuC;AACrC,SAAOC,gBAAOH,KAAP,eACL,6BAAC,aAAD,CAAQ,MAAR;AACE;AACA,IAAA,iBAAiB,EAAC,MAFpB;AAGE,IAAA,MAAM,EAAEC,MAHV;AAIE,IAAA,QAAQ,EAAEG,aAAa,IAAI;AACzBC,MAAAA,MAAM,CAACD,aAAD,CAAN,CAAsBE,eAAtB;AACAJ,MAAAA,IAAI;AACL;AAPH,IADK,CAAP;AAWD;;AAEDK,QAAQ,CAAC,4CAAD,EAA+C,MAAM;AAC3DA,EAAAA,QAAQ,CAAC,QAAD,EAAW,MAAM;AACvBC,IAAAA,IAAI,CAAC,sBAAD,EAAyBN,IAAI,IAAI;AACnC,UAAMO,EAAE,GAAGT,KAAK,CACd;AACEU,QAAAA,IAAI,EAAE,GADR;AAEEC,QAAAA,eAAe,EAAE;AAFnB,OADc,EAKdT,IALc,CAAhB;AAQAN,MAAAA,YAAY,CAACa,EAAD,EAAK,qCAAL,CAAZ,CACGG,IADH,GAEGb,IAFH,CAEQ,OAFR,EAGGc,QAHH,CAGY,QAHZ,EAGsB;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAV,OAHtB;AAID,KAbG,CAAJ;AAeAP,IAAAA,IAAI,CAAC,uBAAD,EAA0BN,IAAI,IAAI;AACpC,UAAMO,EAAE,GAAGT,KAAK,CACd;AACEU,QAAAA,IAAI,EAAE,GADR;AAEEM,QAAAA,gBAAgB,EAAE;AAFpB,OADc,EAKdd,IALc,CAAhB;AAQAN,MAAAA,YAAY,CAACa,EAAD,EAAK,sCAAL,CAAZ,CACGG,IADH,GAEGb,IAFH,CAEQ,OAFR,EAGGc,QAHH,CAGY,QAHZ,EAGsB;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAV,OAHtB;AAID,KAbG,CAAJ;AAeAP,IAAAA,IAAI,CAAC,wBAAD,EAA2BN,IAAI,IAAI;AACrC,UAAMO,EAAE,GAAGT,KAAK,CACd;AACEU,QAAAA,IAAI,EAAE,GADR;AAEEO,QAAAA,iBAAiB,EAAE;AAFrB,OADc,EAKdf,IALc,CAAhB;AAQAN,MAAAA,YAAY,CAACa,EAAD,EAAK,uCAAL,CAAZ,CACGG,IADH,GAEGb,IAFH,CAEQ,OAFR,EAGGc,QAHH,CAGY,QAHZ,EAGsB;AAAEC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,KAAK,EAAE;AAAT;AAAV,OAHtB;AAID,KAbG,CAAJ;AAeAP,IAAAA,IAAI,CAAC,6BAAD,EAAgCN,IAAI,IAAI;AAC1C,UAAMO,EAAE,GAAGT,KAAK,CACd;AACEU,QAAAA,IAAI,EAAE,GADR;AAEEQ,QAAAA,gBAAgB,EAAE;AAFpB,OADc,EAKdhB,IALc,CAAhB;AAQAN,MAAAA,YAAY,CAACa,EAAD,EAAK,sCAAL,CAAZ,CACGG,IADH,GAEGb,IAFH,CAEQ,OAFR,EAGGc,QAHH,CAGY,QAHZ,EAGsB;AAAEC,QAAAA,MAAM,EAAE;AAAEK,UAAAA,OAAO,EAAE;AAAX;AAAV,OAHtB;AAID,KAbG,CAAJ;AAcD,GA5DO,CAAR;AA6DD,CA9DO,CAAR","sourcesContent":["import React from \"react\";\r\nimport enzyme from \"enzyme\";\r\n\r\nimport Column from \"./link\";\r\n\r\nfunction findByTestID(wrapper: any, testId: any) {\r\n  return wrapper.find(`[data-test=\"${testId}\"]`);\r\n}\r\n\r\nfunction mount(column: any, done: any) {\r\n  return enzyme.mount(\r\n    <Column.Editor\r\n      // @ts-expect-error ts-migrate(2322) FIXME: Type '{ visualizationName: string; column: any; on... Remove this comment to see the full error message\r\n      visualizationName=\"Test\"\r\n      column={column}\r\n      onChange={changedColumn => {\r\n        expect(changedColumn).toMatchSnapshot();\r\n        done();\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\ndescribe(\"Visualizations -> Table -> Columns -> Link\", () => {\r\n  describe(\"Editor\", () => {\r\n    test(\"Changes URL template\", done => {\r\n      const el = mount(\r\n        {\r\n          name: \"a\",\r\n          linkUrlTemplate: \"{{ @ }}\",\r\n        },\r\n        done\r\n      );\r\n\r\n      findByTestID(el, \"Table.ColumnEditor.Link.UrlTemplate\")\r\n        .last()\r\n        .find(\"input\")\r\n        .simulate(\"change\", { target: { value: \"http://{{ @ }}/index.html\" } });\r\n    });\r\n\r\n    test(\"Changes text template\", done => {\r\n      const el = mount(\r\n        {\r\n          name: \"a\",\r\n          linkTextTemplate: \"{{ @ }}\",\r\n        },\r\n        done\r\n      );\r\n\r\n      findByTestID(el, \"Table.ColumnEditor.Link.TextTemplate\")\r\n        .last()\r\n        .find(\"input\")\r\n        .simulate(\"change\", { target: { value: \"Text of {{ @ }}\" } });\r\n    });\r\n\r\n    test(\"Changes title template\", done => {\r\n      const el = mount(\r\n        {\r\n          name: \"a\",\r\n          linkTitleTemplate: \"{{ @ }}\",\r\n        },\r\n        done\r\n      );\r\n\r\n      findByTestID(el, \"Table.ColumnEditor.Link.TitleTemplate\")\r\n        .last()\r\n        .find(\"input\")\r\n        .simulate(\"change\", { target: { value: \"Title of {{ @ }}\" } });\r\n    });\r\n\r\n    test(\"Makes link open in new tab \", done => {\r\n      const el = mount(\r\n        {\r\n          name: \"a\",\r\n          linkOpenInNewTab: false,\r\n        },\r\n        done\r\n      );\r\n\r\n      findByTestID(el, \"Table.ColumnEditor.Link.OpenInNewTab\")\r\n        .last()\r\n        .find(\"input\")\r\n        .simulate(\"change\", { target: { checked: true } });\r\n    });\r\n  });\r\n});\r\n"],"file":"link.test.js"}