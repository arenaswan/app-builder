{"version":3,"sources":["../../../../src/visualizations/map/Editor/GroupsSettings.tsx"],"names":["GroupsSettings","options","data","onOptionsChange","groups","name","color","colors","Automatic","ColorPalette","updateGroupOption","prop","value","columns","title","dataIndex","width","render","unused","item","propTypes","EditorPropTypes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;;;;;;;;;;;;;AAEe,SAASA,cAAT,OAAiE;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BC,IAA8B,QAA9BA,IAA8B;AAAA,MAAxBC,eAAwB,QAAxBA,eAAwB;AAC9E,MAAMC,MAAM,GAAG,oBACb,MAAM,iBAAI,0BAAYF,IAAZ,EAAkBD,OAAlB,CAAJ,EAAgC;AAAA,QAAGI,IAAH,SAAGA,IAAH;AAAA,WAAe;AAAEA,MAAAA,IAAF;AAAQC,MAAAA,KAAK,EAAE,CAACL,OAAO,CAACG,MAAR,CAAeC,IAAf,KAAwB,EAAzB,EAA6BC,KAA7B,IAAsC;AAArD,KAAf;AAAA,GAAhC,CADO,EAEb,CAACJ,IAAD,EAAOD,OAAP,CAFa,CAAf;AAKA,MAAMM,MAAM,GAAG,oBACb;AACEC,IAAAA,SAAS,EAAE;AADb,KAEKC,qBAFL,CADa,EAKb,EALa,CAAf;AAQA,MAAMC,iBAAiB,GAAG,wBACxB,CAACL,IAAD,EAAOM,IAAP,EAAaC,KAAb,KAAuB;AACrBT,IAAAA,eAAe,CAAC;AACdC,MAAAA,MAAM,EAAE;AACN,SAACC,IAAD,GAAQ;AACN,WAACM,IAAD,GAAQC;AADF;AADF;AADM,KAAD,CAAf;AAOD,GATuB,EAUxB,CAACT,eAAD,CAVwB,CAA1B;AAaA,MAAMU,OAAO,GAAG,CACd;AACEC,IAAAA,KAAK,EAAE,OADT;AAEEC,IAAAA,SAAS,EAAE;AAFb,GADc,EAKd;AACED,IAAAA,KAAK,EAAE,OADT;AAEEC,IAAAA,SAAS,EAAE,OAFb;AAGEC,IAAAA,KAAK,EAAE,IAHT;AAIEC,IAAAA,MAAM,EAAE,CAACC,MAAD,EAAcC,IAAd,kBACN,6BAAC,oBAAD,CACE;AADF;AAEE,MAAA,WAAW,MAFb,CAGE;AAHF;AAIE,MAAA,YAAY,EAAEZ,MAJhB,CAKE;AALF;AAME,MAAA,SAAS,EAAC,UANZ,CAOE;AAPF;AAQE,MAAA,KAAK,EAAEY,IAAI,CAACb,KARd,CASE;AATF;AAUE,MAAA,YAAY,EAAE;AAAE,iDAAkCa,IAAI,CAACd,IAAvC;AAAF,OAVhB,CAWE;AAXF;AAYE,MAAA,QAAQ,EAAGO,KAAD,IAAgBF,iBAAiB,CAACS,IAAI,CAACd,IAAN,EAAY,OAAZ,EAAqBO,KAArB,CAZ7C,CAaE;AAbF;AAcE,MAAA,UAAU,eAAE,6BAAC,oBAAD,CAAa,KAAb;AAAmB,QAAA,KAAK,EAAEO,IAAI,CAACb,KAA/B;AAAsC,QAAA,YAAY,EAAEC;AAApD;AAdd;AALJ,GALc,CAAhB;AA8BA,sBAAO,6BAAC,cAAD;AAAO,IAAA,OAAO,EAAEM,OAAhB;AAAyB,IAAA,UAAU,EAAET,MAArC;AAA6C,IAAA,MAAM,EAAC,MAApD;AAA2D,IAAA,UAAU,EAAE,KAAvE;AAA8E,IAAA,UAAU,EAAE;AAA1F,IAAP;AACD;;AAEDJ,cAAc,CAACoB,SAAf,GAA2BC,0BAA3B","sourcesContent":["import { map } from \"lodash\";\r\nimport React, { useMemo, useCallback } from \"react\";\r\nimport Table from \"antd/lib/table\";\r\nimport ColorPicker from \"@/components/ColorPicker\";\r\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\r\nimport ColorPalette from \"@/visualizations/ColorPalette\";\r\n\r\nimport prepareData from \"../prepareData\";\r\n\r\nexport default function GroupsSettings({ options, data, onOptionsChange }: any) {\r\n  const groups = useMemo(\r\n    () => map(prepareData(data, options), ({ name }) => ({ name, color: (options.groups[name] || {}).color || null })),\r\n    [data, options]\r\n  );\r\n\r\n  const colors = useMemo(\r\n    () => ({\r\n      Automatic: null,\r\n      ...ColorPalette,\r\n    }),\r\n    []\r\n  );\r\n\r\n  const updateGroupOption = useCallback(\r\n    (name, prop, value) => {\r\n      onOptionsChange({\r\n        groups: {\r\n          [name]: {\r\n            [prop]: value,\r\n          },\r\n        },\r\n      });\r\n    },\r\n    [onOptionsChange]\r\n  );\r\n\r\n  const columns = [\r\n    {\r\n      title: \"Group\",\r\n      dataIndex: \"name\",\r\n    },\r\n    {\r\n      title: \"Color\",\r\n      dataIndex: \"color\",\r\n      width: \"1%\",\r\n      render: (unused: any, item: any) => (\r\n        <ColorPicker\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'boolean' is not assignable to type 'never'.\r\n          interactive\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type '{ \"Indian Red\": string; \"Green 2\": string; \"... Remove this comment to see the full error message\r\n          presetColors={colors}\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'string' is not assignable to type 'never'.\r\n          placement=\"topRight\"\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'any' is not assignable to type 'never'.\r\n          color={item.color}\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'string' is not assignable to type 'never'.\r\n          triggerProps={{ \"data-test\": `Map.Editor.Groups.${item.name}.Color` }}\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type '(value: any) => void' is not assignable to t... Remove this comment to see the full error message\r\n          onChange={(value: any) => updateGroupOption(item.name, \"color\", value)}\r\n          // @ts-expect-error ts-migrate(2322) FIXME: Type 'Element' is not assignable to type 'never'.\r\n          addonAfter={<ColorPicker.Label color={item.color} presetColors={colors} />}\r\n        />\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return <Table columns={columns} dataSource={groups} rowKey=\"name\" showHeader={false} pagination={false} />;\r\n}\r\n\r\nGroupsSettings.propTypes = EditorPropTypes;\r\n"],"file":"GroupsSettings.js"}