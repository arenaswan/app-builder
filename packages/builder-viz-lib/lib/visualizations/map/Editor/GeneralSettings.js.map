{"version":3,"sources":["../../../../src/visualizations/map/Editor/GeneralSettings.tsx"],"names":["getColumns","column","unusedColumns","v","GeneralSettings","options","data","onOptionsChange","columns","c","name","latColName","lonColName","classify","col","undefined","propTypes","EditorPropTypes"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AAEA,SAASA,UAAT,CAAoBC,MAApB,EAAiCC,aAAjC,EAAqD;AACnD,SAAO,oBAAO,CAACD,MAAD,EAAS,GAAGC,aAAZ,CAAP,EAAmCC,CAAC,IAAI,CAAC,mBAAMA,CAAN,CAAzC,CAAP;AACD;;AAEc,SAASC,eAAT,OAAkE;AAAA,MAAvCC,OAAuC,QAAvCA,OAAuC;AAAA,MAA9BC,IAA8B,QAA9BA,IAA8B;AAAA,MAAxBC,eAAwB,QAAxBA,eAAwB;AAC/E,MAAML,aAAa,GAAG,oBACpB,MACE,wBACE,iBAAII,IAAI,CAACE,OAAT,EAAkBC,CAAC,IAAIA,CAAC,CAACC,IAAzB,CADF,EAEE,CAACL,OAAO,CAACM,UAAT,EAAqBN,OAAO,CAACO,UAA7B,EAAyCP,OAAO,CAACQ,QAAjD,CAFF,CAFkB,EAMpB,CAACP,IAAD,EAAOD,OAAO,CAACM,UAAf,EAA2BN,OAAO,CAACO,UAAnC,EAA+CP,OAAO,CAACQ,QAAvD,CANoB,CAAtB;AASA,sBACE,6BAAC,cAAD,CAAO,QAAP,qBAEE,6BAAC,eAAD,qBACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAC,sBADR;AAEE,iBAAU,+BAFZ;AAGE,IAAA,KAAK,EAAER,OAAO,CAACM,UAHjB;AAIE,IAAA,QAAQ,EAAGA,UAAD,IAAqBJ,eAAe,CAAC;AAAEI,MAAAA;AAAF,KAAD;AAJhD,KAKG,iBAAIX,UAAU,CAACK,OAAO,CAACM,UAAT,EAAqBT,aAArB,CAAd,EAAmDY,GAAG;AAAA;AACrD;AACA,+BAAC,cAAD,CAAQ,MAAR;AAAe,IAAA,GAAG,EAAEA,GAApB;AAAyB,iBAAW,mCAAmCA;AAAvE,KACGA,GADH,CAFD,CALH,CADF,CAFF,eAmBE,6BAAC,eAAD,qBACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAC,uBADR;AAEE,iBAAU,gCAFZ;AAGE,IAAA,KAAK,EAAET,OAAO,CAACO,UAHjB;AAIE,IAAA,QAAQ,EAAGA,UAAD,IAAqBL,eAAe,CAAC;AAAEK,MAAAA;AAAF,KAAD;AAJhD,KAKG,iBAAIZ,UAAU,CAACK,OAAO,CAACO,UAAT,EAAqBV,aAArB,CAAd,EAAmDY,GAAG;AAAA;AACrD;AACA,+BAAC,cAAD,CAAQ,MAAR;AAAe,IAAA,GAAG,EAAEA,GAApB;AAAyB,iBAAW,oCAAoCA;AAAxE,KACGA,GADH,CAFD,CALH,CADF,CAnBF,eAoCE,6BAAC,eAAD,qBACE,6BAAC,cAAD;AACE,IAAA,KAAK,EAAC,UADR;AAEE,iBAAU,oBAFZ;AAGE,IAAA,UAAU,MAHZ;AAIE,IAAA,WAAW,EAAC,MAJd;AAKE,IAAA,KAAK,EAAET,OAAO,CAACQ,QAAR,IAAoBE,SAL7B;AAME,IAAA,QAAQ,EAAGd,MAAD,IAAiBM,eAAe,CAAC;AAAEM,MAAAA,QAAQ,EAAEZ,MAAM,IAAI;AAAtB,KAAD;AAN5C,KAOG,iBAAID,UAAU,CAACK,OAAO,CAACQ,QAAT,EAAmBX,aAAnB,CAAd,EAAiDY,GAAG;AAAA;AACnD;AACA,+BAAC,cAAD,CAAQ,MAAR;AAAe,IAAA,GAAG,EAAEA,GAApB;AAAyB,iBAAW,wBAAwBA;AAA5D,KACGA,GADH,CAFD,CAPH,CADF,CApCF,CADF;AAwDD;;AAEDV,eAAe,CAACY,SAAhB,GAA4BC,0BAA5B","sourcesContent":["import { isNil, map, filter, difference } from \"lodash\";\r\nimport React, { useMemo } from \"react\";\r\nimport { Section, Select } from \"@/components/visualizations/editor\";\r\nimport { EditorPropTypes } from \"@/visualizations/prop-types\";\r\n\r\nfunction getColumns(column: any, unusedColumns: any) {\r\n  return filter([column, ...unusedColumns], v => !isNil(v));\r\n}\r\n\r\nexport default function GeneralSettings({ options, data, onOptionsChange }: any) {\r\n  const unusedColumns = useMemo(\r\n    () =>\r\n      difference(\r\n        map(data.columns, c => c.name),\r\n        [options.latColName, options.lonColName, options.classify]\r\n      ),\r\n    [data, options.latColName, options.lonColName, options.classify]\r\n  );\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Select\r\n          label=\"Latitude Column Name\"\r\n          data-test=\"Map.Editor.LatitudeColumnName\"\r\n          value={options.latColName}\r\n          onChange={(latColName: any) => onOptionsChange({ latColName })}>\r\n          {map(getColumns(options.latColName, unusedColumns), col => (\r\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\r\n            <Select.Option key={col} data-test={\"Map.Editor.LatitudeColumnName.\" + col}>\r\n              {col}\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Section>\r\n\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Select\r\n          label=\"Longitude Column Name\"\r\n          data-test=\"Map.Editor.LongitudeColumnName\"\r\n          value={options.lonColName}\r\n          onChange={(lonColName: any) => onOptionsChange({ lonColName })}>\r\n          {map(getColumns(options.lonColName, unusedColumns), col => (\r\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\r\n            <Select.Option key={col} data-test={\"Map.Editor.LongitudeColumnName.\" + col}>\r\n              {col}\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Section>\r\n\r\n      {/* @ts-expect-error ts-migrate(2745) FIXME: This JSX tag's 'children' prop expects type 'never... Remove this comment to see the full error message */}\r\n      <Section>\r\n        <Select\r\n          label=\"Group By\"\r\n          data-test=\"Map.Editor.GroupBy\"\r\n          allowClear\r\n          placeholder=\"none\"\r\n          value={options.classify || undefined}\r\n          onChange={(column: any) => onOptionsChange({ classify: column || null })}>\r\n          {map(getColumns(options.classify, unusedColumns), col => (\r\n            // @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message\r\n            <Select.Option key={col} data-test={\"Map.Editor.GroupBy.\" + col}>\r\n              {col}\r\n              {/* @ts-expect-error ts-migrate(2339) FIXME: Property 'Option' does not exist on type '({ class... Remove this comment to see the full error message */}\r\n            </Select.Option>\r\n          ))}\r\n        </Select>\r\n      </Section>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nGeneralSettings.propTypes = EditorPropTypes;\r\n"],"file":"GeneralSettings.js"}